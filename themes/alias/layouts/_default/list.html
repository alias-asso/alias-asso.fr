{{ define "status_script" }}
<script>
  function getStatus() {
    fetch("https://status.alias-asso.fr/")
      .then((response) => response.text())
      .then((data) => (document.querySelector(".status").innerText = data));
  }
  setInterval(getStatus(), 60000);
</script>
{{ end }} {{ define "main" }}
<main>
  <div class="top">
    <img src="alias_logo_white.svg" class="logo" />
  </div>
  <div class="list">
    <div class="infos-container">
      <a class="list-element infos">
        {{ with .GetPage "infos.md" }}
          <h3>{{ .Title | upper }}</h3>
          {{ .Content }} 
        {{ end }}
      </a>
      <a class="list-element infos">
        {{ with .GetPage "local.md" }}
          <h3>{{ .Title | upper }}</h3>
          {{ .Content }} 
        {{ end }}
      </a>
    </div>
    {{ range (where .Site.RegularPages "Section" "links") }}
      <a href="{{ .Params.link }}" class="list-element link"> {{ .Title }} </a>
    {{ end }}
  </div>
</main>
{{ end }}
